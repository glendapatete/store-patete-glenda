(this["webpackJsonpstore-patete-glenda"]=this["webpackJsonpstore-patete-glenda"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(17),i=c.n(a),r=c(14),j=c(2),o=c(4),l=c(0),d=Object(n.createContext)(),b=function(e){var t=e.children,c=Object(n.useState)(!1),s=Object(o.a)(c,2),a=s[0],i=s[1];return Object(l.jsx)(d.Provider,{value:{coin:a,setCoin:i},children:t})},u=Object(n.createContext)(),h=function(e){var t=e.children,c=Object(n.useState)(""),s=Object(o.a)(c,2),a=s[0],i=s[1],r=Object(n.useContext)(d).coin;return Object(n.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/me",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTIxMWM1MDNiYTYyNzAwMjE3YTMyYTUiLCJpYXQiOjE2Mjk1NTk4ODh9._RhHYJ369kzR-tWJuSbe2qng4WM-4t5GtGFbDG4Ed_4"}}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.error("Error:",e)}))}),[r]),Object(l.jsx)(u.Provider,{value:{data:a},children:t})};c(26);function O(e){var t=e.amount;return Object(l.jsxs)("div",{className:"content-coin",children:[Object(l.jsx)("span",{children:t}),Object(l.jsx)("img",{src:"../images/coin.svg",alt:""})]})}c(27);function x(e){var t=e.display,c=Object(n.useContext)(d).setCoin,s=function(e,t){e.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTIxMWM1MDNiYTYyNzAwMjE3YTMyYTUiLCJpYXQiOjE2Mjk1NTk4ODh9._RhHYJ369kzR-tWJuSbe2qng4WM-4t5GtGFbDG4Ed_4"},body:JSON.stringify({amount:t})};fetch("https://coding-challenge-api.aerolab.co/user/points",n).then((function(e){return c(e),e.json()}))};return t&&Object(l.jsxs)("div",{className:"content-add-coins",children:[Object(l.jsx)("h3",{children:"Get coins"}),Object(l.jsxs)("ul",{className:"content-buttons-coins",children:[Object(l.jsx)("li",{onClick:function(e){return s(e,1e3)},value:"1000",children:Object(l.jsx)(O,{amount:"1000"})}),Object(l.jsx)("li",{onClick:function(e){return s(e,5e3)},value:"5000",children:Object(l.jsx)(O,{amount:"5000"})}),Object(l.jsx)("li",{onClick:function(e){return s(e,7500)},value:"7500",children:Object(l.jsx)(O,{amount:"7500"})})]})]})}c(28);function m(){var e=Object(n.useContext)(u).data,t=Object(n.useState)(!1),c=Object(o.a)(t,2),s=c[0],a=c[1];return Object(l.jsxs)("header",{children:[Object(l.jsxs)("ul",{className:"content-header",children:[Object(l.jsx)("li",{className:"content-header-left",children:Object(l.jsx)("img",{src:"../images/aerolab-logo.svg",alt:""})}),Object(l.jsx)("li",{className:"content-header-left",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{className:"content-header-user",children:e.name}),Object(l.jsx)("li",{className:"content-header-coins",children:Object(l.jsx)(O,{amount:e.points})}),Object(l.jsxs)("li",{children:[Object(l.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(l.jsx)("a",{href:"/redeems",className:"content-header-buy",children:Object(l.jsx)("img",{src:"/store-patete-glenda/images/buy-blue.svg",alt:""})})}}),Object(l.jsx)(j.a,{exact:!0,path:"/redeems",render:function(){return Object(l.jsx)("a",{href:"/",className:"content-header-home",children:Object(l.jsx)("img",{src:"../images/home.svg",alt:""})})}})]}),Object(l.jsxs)("li",{className:"content-header-add",children:[Object(l.jsxs)("label",{className:"add-label",htmlFor:"checkbox",children:[Object(l.jsx)("input",{onChange:function(e){a(!s)},type:"checkbox",className:"show-add",id:"checkbox"}),Object(l.jsx)("img",{src:"/store-patete-glenda/images/coin.svg",alt:""}),Object(l.jsx)("img",{src:"/store-patete-glenda/images/plus.svg",className:"coin-plus",alt:"Coins"})]}),Object(l.jsx)(x,{display:s})]})]})})]}),Object(l.jsxs)("div",{className:"content-subheader",children:[Object(l.jsx)("img",{src:"/store-patete-glenda/images/header-x1.png",alt:""}),Object(l.jsx)("h1",{children:" Electronics"})]})]})}c(34);var p=c(20),f=Object(n.createContext)(),g=function(e){var t=e.children,c=Object(n.useContext)(d).coin,s=Object(n.useState)([]),a=Object(o.a)(s,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/products",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTIxMWM1MDNiYTYyNzAwMjE3YTMyYTUiLCJpYXQiOjE2Mjk1NTk4ODh9._RhHYJ369kzR-tWJuSbe2qng4WM-4t5GtGFbDG4Ed_4"}}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){return console.error("Error:",e)}))}),[c]),Object(l.jsx)(f.Provider,{value:{data:i,setdata:r},children:t})};var N=function(e,t){var c=Object(n.useState)(1),s=Object(o.a)(c,2),a=s[0],i=s[1],r=Math.ceil(e.length/t);return{next:function(){i((function(e){return Math.min(e+1,r)}))},prev:function(){i((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);i((function(e){return Math.min(t,r)}))},currentData:function(){var c=(a-1)*t,n=c+t;return e.slice(c,n)},currentPage:a,maxPage:r}};c(35);function v(e){var t=e.category,c=e.name,s=e.cost,a=e.img,i=e.id,r=Object(n.useState)(""),j=Object(o.a)(r,2),b=j[0],h=j[1],O=Object(n.useContext)(u).data,x=Object(n.useContext)(d).setCoin;return Object(l.jsxs)("div",{className:"container-card",children:[Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("picture",{children:Object(l.jsx)("img",{src:a.url,alt:c})}),Object(l.jsxs)("div",{className:"card-info",children:[Object(l.jsx)("span",{className:"card-name",children:c}),Object(l.jsx)("span",{className:"card-category",children:t})]}),O.points>=s?Object(l.jsx)("span",{className:"card-buy-blue",children:Object(l.jsx)("img",{src:"../images/buy-blue.svg",alt:"buy"})}):Object(l.jsxs)("span",{className:"card-need",children:["You need ",s-O.points," ",Object(l.jsx)("img",{src:"../images/coin.svg",alt:"coin"})]})]}),Object(l.jsx)("div",{className:"card-hover",children:""===b?Object(l.jsxs)("ul",{className:"card-hover-content",children:[Object(l.jsx)("li",{className:"card-buy-white",children:Object(l.jsx)("picture",{children:Object(l.jsx)("img",{src:"../images/buy-white1.svg",alt:"buy"})})}),Object(l.jsx)("li",{className:"card-buy-info",children:Object(l.jsxs)("ul",{className:"card-buy-info-coins",children:[Object(l.jsxs)("li",{className:"card-coins",children:[Object(l.jsx)("span",{children:s})," ",Object(l.jsx)("img",{src:"../images/coin.svg",alt:"coin"})]}),O.points>=s&&Object(l.jsx)("li",{className:"card-buy",children:Object(l.jsx)("button",{className:"card-buy-link",onClick:function(e){return function(e,t){e.preventDefault();var c={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTIxMWM1MDNiYTYyNzAwMjE3YTMyYTUiLCJpYXQiOjE2Mjk1NTk4ODh9._RhHYJ369kzR-tWJuSbe2qng4WM-4t5GtGFbDG4Ed_4"},body:JSON.stringify({productId:t.id})};fetch("https://coding-challenge-api.aerolab.co/redeem",c).then((function(e){e.json().then((function(e){x(e),h(e.message),setTimeout((function(){h("")}),2e3)}))}))}(e,{id:i})},"data-id":i,children:"Redeem now"})})]})})]}):Object(l.jsxs)("div",{className:"success-reedem",children:[Object(l.jsx)("img",{src:"../images/check.png",alt:"success icon"}),Object(l.jsx)("h2",{children:b})]})})]})}c(36);function y(){var e=Object(n.useContext)(f),t=e.data,c=e.setdata,s=Object(n.useState)(t),a=Object(o.a)(s,2),i=a[0],r=a[1],j=Object(n.useState)(1),d=Object(o.a)(j,2),b=d[0],u=d[1],h=Math.ceil(i.length/16);Object(n.useEffect)((function(){r(Object(p.a)(t))}),[t]);var O=N(i,16);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("ul",{className:"content-filters",children:[Object(l.jsxs)("li",{className:"pagination",children:[b," of ",h," pages"]}),Object(l.jsx)("li",{className:"content-filter-buttons",children:Object(l.jsxs)("ul",{className:"",children:[Object(l.jsx)("li",{children:"Sort by:"}),Object(l.jsx)("li",{children:Object(l.jsx)("button",{onClick:function(){var e=i.sort((function(e,t){return e.cost-t.cost}));c(e)},children:"Lower price"})}),Object(l.jsx)("li",{children:Object(l.jsx)("button",{onClick:function(){var e=i.sort((function(e,t){return t.cost-e.cost}));c(e)},children:"Highest price"})})]})}),Object(l.jsx)("li",{className:"pagination-button",children:Object(l.jsxs)("button",{count:h,variant:"outlined",page:b,onClick:function(){var e;u(e=b===h?b-1:b+1),O.jump(e)},children:[" ",b!==h?">":"<"]})})]}),Object(l.jsx)("div",{className:"content-card",children:O&&O.currentData().map((function(e,t){return Object(l.jsx)(v,{category:e.category,name:e.name,cost:e.cost,img:e.img,id:e._id},e._id)}))}),Object(l.jsx)("ul",{className:"content-filters",children:Object(l.jsxs)("li",{className:"pagination",children:[b," of ",h," pages"]})})]})}function M(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(y,{})})}var C=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(b,{children:Object(l.jsxs)(h,{children:[Object(l.jsx)(m,{}),Object(l.jsx)(g,{children:Object(l.jsx)(M,{})})]})})})};c(37);function I(e){var t=e.category,c=e.name,n=e.cost,s=e.img;e.createDate;return Object(l.jsx)("div",{className:"container-card",children:Object(l.jsxs)("div",{className:"card-redeemed",children:[Object(l.jsx)("h3",{className:"card-redeemed-category",children:t}),Object(l.jsxs)("div",{className:"card-redeemed-info",children:[Object(l.jsx)("picture",{children:Object(l.jsx)("img",{src:s.url,alt:c})}),Object(l.jsxs)("ul",{className:"card-redeemed-extra-info",children:[Object(l.jsx)("li",{className:"card-redeemed-name",children:c}),Object(l.jsxs)("li",{className:"card-redeemed-cost",children:[Object(l.jsx)("img",{src:"../images/coin.svg",alt:"coin"})," ",Object(l.jsx)("span",{children:n})]})]})]})]})})}var J=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTIxMWM1MDNiYTYyNzAwMjE3YTMyYTUiLCJpYXQiOjE2Mjk1NTk4ODh9._RhHYJ369kzR-tWJuSbe2qng4WM-4t5GtGFbDG4Ed_4"}}).then((function(e){return e.json()})).then((function(e){s(e.reverse())})).catch((function(e){return console.error("Error:",e)}))}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(b,{children:Object(l.jsx)(h,{children:Object(l.jsx)(m,{})})}),c&&c.map((function(e,t){return Object(l.jsx)(I,{category:e.category,name:e.name,cost:e.cost,img:e.img,id:e._id,createDate:e.createDate},t)}))]})};var k=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(r.a,{basename:"/store-patete-glenda",children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{path:"/",exact:!0,component:C}),Object(l.jsx)(j.a,{path:"/redeems",component:J})]})})})};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.d66fe342.chunk.js.map